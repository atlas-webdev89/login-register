<?php


namespace Controller;

class ProfileuserController extends DisplayController
{
    //Массив содержащий все ссылки на текущей странице
    public $uriArrayPage = [
        'logout' => 'logout'
    ];
    protected $user_data;
    public function profile () {
            //Запускам класс постредник для проверки авторизован ли пользователь
            $this->middle->isUserLogin($this->lang_prefix);
                return $this->display();
        }

        protected function display()
        {   
            $this->user_data = $this->user->getUserData($_SESSION['user_id']);
            //Получаем правильные ссылки для текущей странице с учетом локализации
            $this->uriArrayPage = $this->geturiPageCurrent($this->uriArrayPage);
            $this->mainbar = $this->mainBar();
            parent::display(); // TODO: Change the autogenerated stub
        }

        protected function mainBar () {
            $data = $this->view->render('profile.php',
                [
                    'user' => $this->user_data,
                    'lang' =>  $this->lang,
                    'uriPage' => $this->uriArrayPage
                ]);
        return $data;
    }
}